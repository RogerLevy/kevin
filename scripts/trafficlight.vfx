trafficlight.png 20 40 +tileset trafficlight.ts

class: trafficlight
    actor derive
class;

: bottom  y @ bmp @ bmpwh nip 2 / >. + ;
: stand   bottom y @ - gap 2 / >. - negate y +! ;
: it      who> me trafficlight is? ;

public

: redlight  it ?dup -exit as> trafficlight.ts 1 + bmp ! ;
: greenlight  it ?dup -exit as> trafficlight.ts bmp ! ;
trafficlight :: init redlight stand ;
